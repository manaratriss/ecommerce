<section>
  <div class="container bg-main-light shadow p-2 my-5 rounded-4">
    <h1 class="h2 text-main ">Register Now:</h1>
    <form [formGroup]="registerForm" (ngSubmit)=" registerSendData()">
      <div class="my-3">
        <label for="name">Name</label>
        <input [ngClass]="{
          'is-valid': !registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.dirty),
          'is-invalid': registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.dirty)
        }" formControlName="name" id="name" type="text" class="form-control">
        @if (registerForm.get('name')?.errors && (registerForm.get("name")?.touched || registerForm.get("name")?.dirty)
        ) {
        <div class="alert alert-danger my-2">
          @if (registerForm.get("name")?.getError("required")) {
          <p class="m-0">Name is Required</p>
          }@else if (registerForm.get("name")?.getError("minlength"))
          {
          <p class="m-0">Name showed be more than or equal 3 characters </p>
          }@else if(registerForm.get("name")?.getError("maxlength")){
          <p class="m-0">Name showed be less than or equal 3 characters </p>
          }
        </div>
        }
      </div>

      <div class="my-3">
        <label for="email">Email</label>
        <input formControlName="email" id="email" type="email" class="form-control">
        @if (registerForm.get("email")?.errors && (registerForm.get("email")?.touched
        ||registerForm.get("email")?.dirty)) {
        <div class="alert alert-danger my-2">
          @if (registerForm.get("email")?.getError("required")) {
          <p class="m-0">Email is Required</p>
          }@else if (registerForm.get("email")?.getError("email"))
          {
          <p class="m-0">Email is not valid</p>
          }
        </div>
        }
      </div>
      <div class="my-3">
        <label for="password">Password</label>
        <input formControlName="password" id="password" type="password" class="form-control">
        @if (registerForm.get("password")?.errors && (registerForm.get("password")?.touched
        ||registerForm.get("password")?.dirty) ) {
        <div class="alert alert-danger my-2">
          @if (registerForm.get("password")?.getError("required")) {
          <p class="m-0">password is Required</p>
          }@else if (registerForm.get("password")?.getError("pattern"))
          {
          <p class="m-0">Password minlength 8 Character </p>
          }
        </div>
        }
      </div>
      <div class="my-3">
        <label for="rePassword">rePassword</label>
        <input formControlName="rePassword" id="rePassword" type="password" class="form-control">
        @if (registerForm.getError("mismatch") && (registerForm.get("rePassword")?.touched
        ||registerForm.get("rePassword")?.dirty) ) {
        <div class="alert alert-danger my-2">
          <p class="m-0">Passwords do not match</p>
        </div>
        }
      </div>
      <div class="my-3">
        <label for="phone">Phone</label>
        <input formControlName="phone" id="phone" type="text" class="form-control">
        @if (registerForm.get("phone")?.errors && (registerForm.get("phone")?.touched
        ||registerForm.get("phone")?.dirty) ) {
        <div class="alert alert-danger my-2">
          @if (registerForm.get("phone")?.getError("required")) {
          <p class="m-0">phone is Required</p>
          }@else if (registerForm.get("phone")?.getError("pattern"))
          {
          <p class="m-0">phone minlength 11 Character </p>
          }
        </div>
        }
      </div>
      <button  type="submit" class="btn-main ms-auto d-block">Register
        @if (isLoading) {
        <span><i class="fa fa-spin fa-spinner"></i></span>
        }
      </button>
      @if (msgError) {
      <p class="alert alert-danger">{{msgError}}</p>
      }
    </form>
  </div>
</section>
